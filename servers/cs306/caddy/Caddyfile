{
	debug
	auto_https off # rely on cirno's Caddy proxy
}

cs306.acmcsuf.com {
	log
	respond "Hello from CS306! Brought to you by ACM at CSUF."
}

q.acmcsuf.com,
quiz.acmcsuf.com,
quizler.acmcsuf.com {
	reverse_proxy * http://localhost:37867
}

goworkshop.acmcsuf.com,
go-workshop.acmcsuf.com {
	handle / {
		redir * /acm-go.slide
	}
	handle * {
		reverse_proxy * localhost:38572
	}
}

pomo.acmcsuf.com {
	reverse_proxy * http://localhost:18485
}

status.acmcsuf.com {
	@public_dashboard {
		path /
		header !Cookie # if the Cookie header is missing
	}
	handle @public_dashboard {
		redir * https://status.acmcsuf.com/public-dashboards/6a7d2bd924764b8b91ffdd4aa33fc11b
	}
	handle * {
		reverse_proxy * localhost:38573
	}
}

ics.acmcsuf.com {
	reverse_proxy * unix//run/discord-ical-srv/http.sock
}

qrms.fullyhacks.acmcsuf.com {
	reverse_proxy * http://localhost:38574
}
